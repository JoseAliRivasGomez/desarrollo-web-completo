<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chances Viernes Costa Rica</title>
</head>
<body>
    <h1>Chances Viernes Costa Rica</h1>
    <button id="jugar">Jugar</button>
    <p>Total gastado: ₡<span id="totalGastado">0</span></p>
    <p>Total ganado: ₡<span id="totalGanado">0</span></p>
    <h2>Detalle de premios ganados:</h2>
    <ul id="detallePremios"></ul>

    <script>
        // Función para generar un número aleatorio entre min (incluido) y max (excluido)
        function generarNumeroAleatorio(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }

        function calcularInverso(numero) {
            if (numero < 0) {
              return -calcularInverso(-numero);
            }
          
            var numeroComoCadena = numero.toString();
            var inversoComoCadena = numeroComoCadena
              .split('')
              .reverse()
              .join('');
          
            var inverso = parseInt(inversoComoCadena, 10);
            return inverso;
        }

        document.getElementById("jugar").addEventListener("click", function () {
            let totalGastado = 0;
            let totalGanado = 0;
            
            const cantidadNumerosDiferentes = 1;
            const cantidadFraccionesPorNumero = 10;
            const cantidadFraccionesTotales = 10;

            const detallePremiosList = document.getElementById("detallePremios");
            detallePremiosList.innerHTML = ''; // Limpiar el detalle de premios previos

            // Realizar 2600 sorteos
            for (let i = 0; i < 2600; i++) {

                const numerosComprados = [];
                const seriesCompradas = [];
                for (let i = 0; i < cantidadNumerosDiferentes; i++) {
                    const numero = generarNumeroAleatorio(0, 100);
                    /* let numero = 0;
                    switch(i) {
                        case 1:
                            numero = 11;
                            break;
                        case 2:
                            numero = 22;
                            break;
                        case 3:
                            numero = 33;
                            break;
                        case 4:
                            numero = 44;
                            break;
                        case 5:
                            numero = 55;
                            break;
                        case 6:
                            numero = 66;
                            break;
                        case 7:
                            numero = 77;
                            break;
                        case 8:
                            numero = 88;
                            break;
                        case 9:
                            numero = 99;
                            break;
                        default:
                            numero = 0;
                            break;
                    } */
                    const serie = generarNumeroAleatorio(0, 1000);
                    numerosComprados.push(numero);
                    seriesCompradas.push(serie);
                }
                // const serieComprada = generarNumeroAleatorio(0, 1000);
                // const numeroComprado = 21;

                totalGastado += 1200 * cantidadFraccionesTotales; // Costo de una fracción

                // Generar números y series aleatorias para los premios
                const numeroPremioMayor = generarNumeroAleatorio(0, 100);
                const seriePremioMayor = generarNumeroAleatorio(0, 1000);
                const numeroSegundoPremio = generarNumeroAleatorio(0, 100);
                const serieSegundoPremio = generarNumeroAleatorio(0, 1000);
                const numeroTercerPremio = generarNumeroAleatorio(0, 100);
                const serieTercerPremio = generarNumeroAleatorio(0, 1000);

                // Simular el sorteo
                let premioGanado = 0;
                let detallePremio = '';

                for (let i = 0; i < numerosComprados.length; i++) {
                    if (numerosComprados[i] === numeroPremioMayor && seriesCompradas[i] === seriePremioMayor) {
                        premioGanado = 20000000 * cantidadFraccionesPorNumero; // Premio Mayor
                        detallePremio = `Premio Mayor: ₡${premioGanado}`;
                    } else if (numerosComprados[i] === numeroPremioMayor) {
                        premioGanado = 30000 * cantidadFraccionesPorNumero; // Premio por Número igual al Mayor
                        detallePremio = `Premio por Número igual al Mayor: ₡${premioGanado}`;
                    } else if (numerosComprados[i] === calcularInverso(numeroPremioMayor)) {
                        premioGanado = 3000 * cantidadFraccionesPorNumero; // Inversa de Mayor
                        detallePremio = `Inversa de Mayor: ₡${premioGanado}`;
                    } 
                    
                    if (numerosComprados[i] === numeroSegundoPremio && seriesCompradas[i] === serieSegundoPremio) {
                        premioGanado = 6000000 * cantidadFraccionesPorNumero; // Segundo Premio
                        detallePremio = `Segundo Premio: ₡${premioGanado}`;
                    } else if (numerosComprados[i] === numeroSegundoPremio) {
                        premioGanado = 7200 * cantidadFraccionesPorNumero; // Premio por Número igual al Segundo
                        detallePremio = `Premio por Número igual al Segundo: ₡${premioGanado}`;
                    } else if (numerosComprados[i] === calcularInverso(numeroSegundoPremio)) {
                        premioGanado = 2000 * cantidadFraccionesPorNumero; // Inversa de Segundo
                        detallePremio = `Inversa de Segundo: ₡${premioGanado}`;
                    } 
                    
                    if (numerosComprados[i] === numeroTercerPremio && seriesCompradas[i] === serieTercerPremio) {
                        premioGanado = 1600000 * cantidadFraccionesPorNumero; // Tercer Premio
                        detallePremio = `Tercer Premio: ₡${premioGanado}`;
                    } else if (numerosComprados[i] === numeroTercerPremio) {
                        premioGanado = 4800 * cantidadFraccionesPorNumero; // Premio por Número igual al Tercero
                        detallePremio = `Premio por Número igual al Tercero: ₡${premioGanado}`;
                    } else if (numerosComprados[i] === calcularInverso(numeroTercerPremio)) {
                        premioGanado = 1200 * cantidadFraccionesPorNumero; // Inversa de Tercero
                        detallePremio = `Inversa de Tercero: ₡${premioGanado}`;
                    }
                }

                totalGanado += premioGanado;

                // Agregar el detalle del premio ganado a la lista
                const li = document.createElement('li');
                li.textContent = detallePremio;
                detallePremiosList.appendChild(li);
            }

            // Actualizar los totales en la página
            document.getElementById("totalGastado").textContent = totalGastado/1000000 + ' Millones';
            document.getElementById("totalGanado").textContent = totalGanado/1000000 + ' Millones';
        });
    </script>
</body>
</html>
